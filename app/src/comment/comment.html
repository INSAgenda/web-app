<div class="comment">
    <div class="comment-header">
        <img class="comment-author-avatar" src={{author_avatar}} />
        <span class="comment-author-name">{{author_name}}</span>
        <span class="comment-time">{{time}}</span>
        <span class="comment-time" present-if={{modified}}>&nbsp;(modifié)</span>
    </div>
    <div class="comment-bottom">
        <div class="comment-bar"></div>
        <div class="comment-main">
            <div>
                <p present-if=!{{editing}}>
                    {{content}}
                </p>
                <textarea class="comment-textarea" id="comment-textarea-{{cid}}"></textarea> <!-- Appearance handled with CSS -->

                <div class="comment-buttons {{upvote_class}}">
                    <button class="comment-upvote-button" onclick={{onclick_upvote}}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-thumbs-up"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
                    </button>
                    <span class="comment-score">{{score}}</span>
                    <button class="comment-downvote-button" onclick={{onclick_downvote}}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-thumbs-down"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>
                    </button>
                    <virtual present-if=!{{editing}}>
                        <button class="comment-button" onclick={{onclick_reply}}>Répondre</button>
                        <button present-if={{is_author}} class="comment-button" onclick={{onclick_edit}}>Éditer</button>
                        <button present-if=!{{is_author}} class="comment-button" onclick={{onclick_report}}>Signaler</button>
                        <button present-if={{is_author}} class="comment-button" onclick={{onclick_delete}}>Supprimer</button>
                    </virtual>
                    <virtual present-if={{editing}}>
                        <button class="comment-button" onclick={{onclick_edit_cancel}}>Annuler</button>
                        <button class="comment-button comment-submit-button" onclick={{onclick_edit_submit}}>Éditer</button>
                    </virtual>
                </div>
            </div>
            <div present-if={{replying}} class="comment-reply">
                <div class="comment-header">
                    <img class="comment-author-avatar" src={{self_avatar}} />
                    <span class="comment-author-name">{{self_name}}</span>
                </div>
                <div class="comment-bottom">
                    <div class="comment-bar"></div>
                    <div class="comment-reply-main">
                        <textarea class="comment-textarea" id="reply-textarea-{{cid}}" placeholder="Ecrivez une réponse"></textarea>
                        <div class="comment-reply-buttons">
                            <button class="comment-button" onclick={{onclick_reply_cancel}}>Annuler</button>
                            <button class="comment-button comment-submit-button" onclick={{onclick_reply_submit}}>Envoyer</button>
                        </div>
                    </div>
                </div>
            </div>
            {{children}}
        </div>
    </div>
</div>
